(this["webpackJsonptikenya-hackathon"]=this["webpackJsonptikenya-hackathon"]||[]).push([[0],{190:function(e,t,n){},191:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},325:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(51),s=n.n(c),r=(n(190),n(17)),l=n(18),o=n(19),u=n(20),d=(n(124),n(191),n(2)),j=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.totalAid;return Object(d.jsxs)("div",{className:"header pt-2",children:[Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column is-1 ml-6",children:Object(d.jsx)("img",{src:"./A4T-logo.png",alt:"A4T logo",className:"header__logo"})}),Object(d.jsx)("div",{className:"column is-11 has-text-centered is-flex is-align-items-center",children:Object(d.jsx)("h1",{className:"header__title is-uppercase",children:"Covid-19 Aid Tracker"})})]}),Object(d.jsxs)("div",{className:"columns is-flex is-align-items-center",children:[Object(d.jsx)("div",{className:"column is-5",children:Object(d.jsxs)("div",{className:"is-flex is-align-items-center is-justify-content-center ml-6",children:[Object(d.jsx)("h3",{className:"header__total-aid is-uppercase mr-4",children:"Total Aid"}),Object(d.jsxs)("h4",{className:"header__total-aid-value",children:[e," "]})]})}),Object(d.jsx)("div",{className:"header__vertical-line"}),Object(d.jsx)("div",{className:"column is-7",children:Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsxs)("div",{className:"column is-flex is-align-items-center",children:[Object(d.jsx)("h6",{className:"header__cases is-uppercase",children:"Confirmed Cases"}),Object(d.jsx)("h5",{className:"header__cases-value",children:"88,380"})]}),Object(d.jsxs)("div",{className:"column is-flex is-align-items-center",children:[Object(d.jsx)("h6",{className:"header__cases is-uppercase",children:"Confirmed Deaths"}),Object(d.jsx)("h5",{className:"header__cases-value",children:"1,526"})]}),Object(d.jsxs)("div",{className:"column is-flex is-align-items-center",children:[Object(d.jsx)("h6",{className:"header__cases is-uppercase",children:"Confirmed Recoveries"}),Object(d.jsx)("h5",{className:"header__cases-value header__cases-value--success ",children:"68,829"})]})]})})]})]})}}]),n}(a.Component),m=n(333),h=n(172),b=n(173),v=n(97),f=n(180),x=n(91),p=(n(193),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.menuItems,n=e.activeMenuItem,a=e.changeActiveMenuItem;return Object(d.jsx)("div",{className:"sidemenu",children:Object(d.jsx)("aside",{className:"menu",children:Object(d.jsx)("ul",{className:"menu-list",children:t.map((function(e){return Object(d.jsx)("li",{onClick:function(){return a(e.id)},children:Object(d.jsx)("a",{className:e.id===n?"is-active":"",children:e.name})},e.id)}))})})})}}]),n}(a.Component));p.defaultProps={menuItems:[],activeIndex:null};var O=n(73),g=n.n(O);g.a.register("locale","us",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"K",million:"Mn",billion:"Bn",trillion:"Tn"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"$"}});var y=["ngo","private","international_organization"],N={ngo:["E.U","Slovakian Republic"],private:["Zhejiang Business Association","Communications Authority of Kenya","Coca Cola"],ing:["US Embassy","Embassy of Germany","U.S. Government"]},_=function(e){return e.filter((function(e){return""!==e.amount_pledged}))},I=function(e,t){return _(e).filter((function(e){return e.donor_type===y[t]})).filter((function(e){return Number(e.amount_pledged)})).map((function(e){return{name:e.donor,amount:e.amount_pledged,formattedAmount:C(e.amount_pledged)}}))},C=function(e){return g.a.locale("us"),g()(e).format("0,0.00 a")},k=function(e,t){return e.filter((function(e){return e.expending_body===t}))},A=function(e){var t=[],n=[],a={},i=[];e.forEach((function(e){var c=e.type,s=e.source_of_fund,r=Number(e.amount_expended);-1===n.indexOf(e.expending_body)&&n.push(e.expending_body),-1===t.indexOf(c)&&t.push(c),-1===i.indexOf(s)&&i.push(s),!a[c]&&r&&(a[c]=e.amount_expended),a[c]&&r&&(a[c]=+a[c]+ +e.amount_expended)}));var c=Object.keys(a).map((function(e){return{name:e,value:a[e]}}));return{categories:t,totals:c,expendingBodies:n,funds:i[0]}},M=(n(194),{fill:"#073b4c",width:1,opacity:.5}),T={fill:"#073b4c",fontSize:13,fontWeight:500,fontFamily:"Roboto"},D=function(e){var t=e.x,n=e.y,a=e.payload;return Object(d.jsx)("g",{transform:"translate(".concat(t,",").concat(n,")"),children:Object(d.jsx)("text",{x:0,y:-10,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-35)",style:T,children:a.value})})},S=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).changeActiveMenuItem=function(e){var t=a.state.fundingData;a.setState({activeMenuItemId:e,barChartData:I(t,e),loading:!1})};return a.state={menuItems:[{id:0,name:"Non Govt Organization (NGO)"},{id:1,name:"Private Sector"},{id:2,name:"International Organizations"}],activeMenuItemId:0,fundingData:[],barChartData:[],loading:!0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.activeMenuItemId;fetch("http://actionfortransparency.org/wp-json/wp/v2/covid19_aid").then((function(e){return e.json()})).then((function(n){var a=function(e){return e.map((function(e,t){return N.ngo.includes(e.donor)&&(e.donor_type=y[0]),N.private.includes(e.donor)&&(e.donor_type=y[1]),N.ing.includes(e.donor)&&(e.donor_type=y[2]),e}))}(n);e.setState({fundingData:a,barChartData:I(a,t),loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.menuItems,n=e.activeMenuItemId,a=e.barChartData,i=e.loading,c=t[n].name;return i?Object(d.jsx)("button",{className:"button is-loading",children:"Loading"}):Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column is-one-quarter",children:Object(d.jsx)(p,{menuItems:t,activeMenuItem:n,changeActiveMenuItem:this.changeActiveMenuItem})}),Object(d.jsxs)("div",{className:"column is-three-quarters mt-6",children:[Object(d.jsx)("p",{className:"visualization__title ml-6 pb-4",children:c}),Object(d.jsx)("div",{className:"visualization__chart-area",children:this.renderBarGraph(a)})]})]})}},{key:"renderBarGraph",value:function(e){return Object(d.jsxs)(m.a,{width:1e3,height:450,data:e,margin:{top:5,right:30,left:20,bottom:100},barSize:30,children:[Object(d.jsx)(h.a,{dataKey:"name",tickLine:!1,axisLine:M,tick:Object(d.jsx)(D,{}),padding:{left:0},interval:0}),Object(d.jsx)(b.a,{tickFormatter:function(e){return C(e)},padding:{top:50},axisLine:M,tick:T}),Object(d.jsx)(v.a,{formatter:function(e,t,n){return C(e)},cursor:{fill:"transparent"}}),Object(d.jsx)(f.a,{dataKey:"amount",fill:"#118ab2",children:Object(d.jsx)(x.a,{dataKey:"formattedAmount",position:"top",fill:"#118ab2"})})]})}}]),n}(a.Component),w=function(e){var t=e.tab.name,n=e.activeTab,a=e.changeActiveTab;return Object(d.jsx)("li",{className:t.toLowerCase()===n?"is-active":"",onClick:function(){return a(t)},children:Object(d.jsx)("a",{children:t})})},z=(n(325),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.activeTab,n=e.changeActiveTab;return Object(d.jsx)("div",{className:"category-tab",children:Object(d.jsx)("div",{className:"tabs is-centered",children:Object(d.jsx)("ul",{children:this.props.tabList.map((function(e){return Object(d.jsx)(w,{tab:e,activeTab:t,changeActiveTab:n},e.name)}))})})})}}]),n}(a.Component)),L=n(338),G=n(339),B=n(175),F=n(92),R={fill:"#073b4c",fontSize:18,fontWeight:500,fontFamily:"Roboto"},E=["#18D8A6","#1185B2","#FACE61","#093B4C"],K=function(e){var t=e.pieChartData,n=e.menuItemName,a=e.showTotal,i=function(e){return e.map((function(e){return e.value})).reduce((function(e,t){return e+t}),0)}(t);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"is-flex is-flex is-justify-content-space-between",children:[a&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"visualization__title",children:["Expending Body: ",n]}),Object(d.jsx)("p",{className:"visualization__sub-title",children:"Source of funds: National Government"})]}),!a&&Object(d.jsx)("p",{className:"visualization__title",children:"Expending By Counties"}),a&&Object(d.jsx)("div",{children:Object(d.jsxs)("h4",{className:"visualization__disbursed",children:[C(i)," Disbursed"]})})]}),Object(d.jsx)(L.a,{id:"expenditure-counties",width:"100%",height:530,children:Object(d.jsx)(G.a,{children:Object(d.jsx)(B.a,{cy:"50%",data:t,labelLine:!0,label:function(e){return function(e,t){var n=t.cx,a=t.cy,i=t.midAngle,c=t.innerRadius,s=t.outerRadius,r=t.index,l=Math.PI/180,o=25+c+(s-c),u=n+o*Math.cos(-i*l),j=a+o*Math.sin(-i*l);return Object(d.jsxs)("text",{x:u,y:j,fill:"#8884d8",textAnchor:u>n?"start":"end",dominantBaseline:"central",style:R,children:[Object(d.jsx)("tspan",{style:R,children:C(e[r].value)}),Object(d.jsx)("tspan",{x:u,y:j+R.fontSize+5,style:R,children:e[r].name})]})}(t,e)},outerRadius:"80%",fill:"#8884d8",dataKey:"value",children:t.map((function(e,t){return Object(d.jsx)(F.a,{fill:E[t%E.length]},"cell-".concat(t))}))})})})]})},P=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pieChartData,n=e.menuItemName;return Object(d.jsx)("div",{className:"pt-6 pl-6 pr-6",children:Object(d.jsx)(K,{pieChartData:t,menuItemName:n,showTotal:!0})})}}]),n}(a.Component),q={fill:"#073b4c",fontSize:16,fontWeight:600,fontFamily:"Roboto"},U=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderCustomizedLabel=function(t){var n=e.props.pieChartData,a=t.cx,i=t.cy,c=t.midAngle,s=t.innerRadius,r=t.outerRadius,l=t.index,o=Math.PI/180,u=25+s+(r-s),j=a+u*Math.cos(-c*o),m=i+u*Math.sin(-c*o);return Object(d.jsxs)("text",{x:j,y:m,fill:"#8884d8",textAnchor:j>a?"start":"end",dominantBaseline:"central",style:q,children:[Object(d.jsx)("tspan",{style:q,children:C(n[l].value)}),Object(d.jsx)("tspan",{x:j,y:m+q.fontSize+5,style:q,children:n[l].name})]})},e.ticks=function(e){return[0,e.allocatied,e.allocated+e.unallocated].map((function(e){return C(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pieChartData,n=e.menuItemName,a=e.nationalGovtFunding,i=e.countyGovtReceipt,c=[{unallocated:a-i,allocated:i}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"pt-6 pl-6 pr-6 is-flex is-flex is-justify-content-space-between",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("p",{className:"visualization__title",children:["Expending Body: ",n]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("h4",{className:"visualization__disbursed",children:[C(c[0].allocated)," Disbursed"]})})]}),Object(d.jsxs)("div",{style:{paddingLeft:38,paddingTop:20},children:[Object(d.jsxs)("p",{className:"",style:{paddingLeft:10,color:"#0a3b4c",fontWeight:500,fontSize:13},children:[C(c[0].allocated)," out of"," ",C(c[0].allocated+c[0].unallocated)," Disbursed to County Governments"]}),Object(d.jsx)(L.a,{width:"100%",height:120,children:Object(d.jsxs)(m.a,{layout:"vertical",data:c,margin:{top:5,right:10,left:10,bottom:0},children:[Object(d.jsx)(h.a,{style:{transform:"translate(0, -40%)"},orientation:"bottom",type:"number",axisLine:!1,tick:q,ticks:[0,c[0].allocated,c[0].allocated+c[0].unallocated],domain:[0,C(c[0].allocated+c[0].unallocated)],tickFormatter:function(e){return e>0?C(e):0}}),Object(d.jsx)(b.a,{type:"category",hide:!0}),Object(d.jsx)(f.a,{dataKey:"allocated",stackId:"a",fill:"#34EDD2"}),Object(d.jsx)(f.a,{dataKey:"unallocated",stackId:"a",fill:"#089B74"})]})}),Object(d.jsx)(K,{pieChartData:t,menuItemName:n,showTotal:!1})]})]})}}]),n}(a.Component),W=(n(327),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).createMenuItems=function(e){return e.map((function(e,t){return{id:t,name:e}}))},a.filterByExpendingBody=function(e){var t=a.state.expenditureData;return k(t,e)},a.changeActiveMenuItem=function(e){a.setState({activeMenuItemId:e})},a.state={loading:!0,menuItems:[],activeMenuItemId:0,expenditureData:[],summary:{},nationalGovtFunding:0,countyGovtReceipt:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://actionfortransparency.org/wp-json/wp/v2/covid19_expenditure").then((function(e){return e.json()})).then((function(t){var n=A(t);e.setState({loading:!1,expenditureData:t,summary:n,menuItems:e.createMenuItems(n.expendingBodies)})})),fetch("https://actionfortransparency.org/wp-json/wp/v2/covid19_aid").then((function(e){return e.json()})).then((function(t){var n=_(t).filter((function(e){return"National Government"===e.recipient[0]})).map((function(e){return e.amount_pledged})).reduce((function(e,t){return+e+ +t}),0),a=.3*n;e.setState({nationalGovtFunding:n,countyGovtReceipt:a})}))}},{key:"renderActiveContent",value:function(e,t){var n=this.state,a=n.expenditureData,i=n.countyGovtReceipt,c=n.nationalGovtFunding,s=k(a,t),r=A(s);return"County Governments"===t?Object(d.jsx)(U,{menuItemName:t,pieChartData:r.totals,nationalGovtFunding:c,countyGovtReceipt:i}):Object(d.jsx)(P,{menuItemName:t,pieChartData:r.totals})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.menuItems,a=e.activeMenuItemId;if(t)return Object(d.jsx)("button",{className:"button is-loading",children:"Loading"});var i=n[a].name;return Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column is-one-quarter",children:Object(d.jsx)(p,{menuItems:n,activeMenuItem:a,changeActiveMenuItem:this.changeActiveMenuItem})}),Object(d.jsx)("div",{className:"column is-three-quarters",children:Object(d.jsx)("div",{className:"visualization__chart-area",children:this.renderActiveContent(a,i)})})]})}}]),n}(a.Component)),J=(n(328),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"inkind-tab",children:Object(d.jsx)("div",{className:"tabs",children:Object(d.jsx)("ul",{children:this.props.tabList.map((function(t){return Object(d.jsx)(w,{tab:t,activeTab:e.props.activeTab,changeActiveTab:e.props.changeActiveTab},t.name)}))})})})}}]),n}(a.Component)),H=(n(329),[{name:"Germany"},{name:"China"},{name:"USA"},{name:"Kenya"}]),Z=[{id:0,name:"Governments"},{id:1,name:"Private Sector"},{id:2,name:"Business Persons"}],$=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).changeActiveMenuItem=function(e){a.setState({activeMenuItemId:e})},a.changeActiveTab=function(e){a.setState({activeTab:e.toLocaleLowerCase()})},a.state={activeMenuItemId:0,menuItems:Z,activeTab:"china"},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.menuItems,n=e.activeMenuItemId,a=e.activeTab,i=t[n].name;return Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column is-one-quarter",children:Object(d.jsx)(p,{menuItems:t,activeMenuItem:n,changeActiveMenuItem:this.changeActiveMenuItem})}),Object(d.jsxs)("div",{className:"column is-three-quarters mt-6",children:[Object(d.jsx)("p",{className:"visualization__title ml-6 pb-4",children:i}),Object(d.jsx)("div",{className:"visualization__chart-area",children:Object(d.jsxs)("div",{className:"ml-6",children:[Object(d.jsx)(J,{tabList:H,changeActiveTab:this.changeActiveTab,activeTab:a}),Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("p",{className:"visualization__title",children:"Medical Supplies"}),Object(d.jsx)("p",{className:"visualization__sub-title",children:"Health Cabinet Secretary Mutahi Kagwe has received a consignment of medical supplies from China"})]}),Object(d.jsxs)("div",{className:"columns mt-6",children:[Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"is-flex is-flex-direction-column is-justify-content-start",children:[Object(d.jsx)("img",{className:"in-kind__item-img",src:"./masks.svg",alt:""}),Object(d.jsxs)("p",{className:"in-kind__item-title",children:[Object(d.jsx)("span",{children:"200,000"}),Object(d.jsx)("span",{children:"Masks"})]})]})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"is-flex is-flex-direction-column is-justify-content-start",children:[Object(d.jsx)("img",{className:"in-kind__item-img",src:"./testing_Kits.svg",alt:""}),Object(d.jsxs)("p",{className:"in-kind__item-title",children:[Object(d.jsx)("span",{children:"500,000"}),Object(d.jsx)("span",{children:"Testing tubes"})]})]})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"is-flex is-flex-direction-column is-justify-content-start",children:[Object(d.jsx)("img",{className:"in-kind__item-img",src:"./shoe_covers.svg",alt:""}),Object(d.jsxs)("p",{className:"in-kind__item-title",children:[Object(d.jsx)("span",{children:"40,000"}),Object(d.jsx)("span",{children:"Shoe Covers"})]})]})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"is-flex is-flex-direction-column is-justify-content-start",children:[Object(d.jsx)("img",{className:"in-kind__item-img",src:"./masks_n95.svg",alt:""}),Object(d.jsxs)("p",{className:"in-kind__item-title",children:[Object(d.jsx)("span",{children:"76,000"}),Object(d.jsx)("span",{children:"N95 Masks"})]})]})})]})]})})]})]})}}]),n}(a.Component),Q=(n(330),[{name:"Aid"},{name:"Expenditure"},{name:"In Kind"}]),V=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).changeActiveTab=function(e){a.setState({activeTab:e.toLocaleLowerCase()})},a.renderChart=function(e){switch(e.toLocaleLowerCase()){case"aid":return Object(d.jsx)(S,{});case"in kind":return Object(d.jsx)($,{});case"expenditure":return Object(d.jsx)(W,{});default:return Object(d.jsx)(S,{})}},a.state={activeTab:"aid",tabList:Q},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.tabList,n=e.activeTab;return Object(d.jsxs)("div",{className:"mt-4",children:[Object(d.jsx)(z,{tabList:t,activeTab:n,changeActiveTab:this.changeActiveTab}),Object(d.jsx)("div",{className:"tabs-content visualization__tab-content mt-3",children:this.renderChart(n)})]})}}]),n}(a.Component),X=(n(331),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={totalAid:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://actionfortransparency.org/wp-json/wp/v2/covid19_aid").then((function(e){return e.json()})).then((function(t){var n=function(e){return _(e).map((function(e){return e.amount_pledged})).reduce((function(e,t){return+e+ +t}),0)}(t);e.setState({totalAid:n})}))}},{key:"render",value:function(){var e,t=this.state.totalAid;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{totalAid:(e=t,g()(e).format("0,0"))}),Object(d.jsx)(V,{})]})})}}]),n}(a.Component)),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,340)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),Y()}},[[332,1,2]]]);
//# sourceMappingURL=main.866eb1b0.chunk.js.map